# ~/.config/starship.toml

# --- GLOBAL ---
add_newline = true
command_timeout = 2000

# --- MODULES ORDER ---
format = """
$directory\
$git_branch\
$git_status\
$typescript\
$nodejs\
$custom\
$python\
$c\
$golang\
$rust\
$docker_context\
$memory_usage\
$line_break\
$character"""

# Right side: Meta info (Time, Duration)
right_format = """$cmd_duration $time"""

# --- DIRECTORY ---
[directory]
style = "bold lavender"
truncation_length = 3
truncate_to_repo = false
read_only = " ğŸ”’"

# --- GIT BRANCH ---
[git_branch]
style = "bold mauve"
symbol = "ï˜ "

# --- GIT STATUS ---
[git_status]
style = "bold red"
conflicted = "ğŸ³"
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
up_to_date = "âœ“"
untracked = "?"
stashed = "ğŸ“¦"
modified = "!"
staged = "+"
renamed = "Â»"
deleted = "âœ˜"

# --- FULL STACK LANGUAGES ---

# --- TYPESCRIPT / JS ---
[nodejs]
symbol = "â¬¢ "
style = "bold green"
# This makes Node detect TS files too, so you don't need a separate broken module
detect_extensions = ["js", "mjs", "cjs", "ts", "tsx"]
detect_files = ["package.json", ".nvmrc"]

# --- CUSTOM MODULES (Express & Podman) ---

# 1. Express.js Detection
# Checks if package.json exists AND contains "express"
[custom.express]
description = "Express.js Project"
command = "echo 'ğŸš‚'"
when = "test -f package.json && grep -q '\"express\"' package.json"
style = "bold white"
format = "[$symbol]($style)"

# 2. Podman Detection
# Detects Containerfile or Podman-specific files
[custom.podman]
description = "Podman Project"
command = "echo 'ğŸ¦­'" 
when = "test -f Containerfile || test -f podman-compose.yml"
style = "bold purple"
format = "[$symbol]($style)"

# --- OTHER LANGUAGES ---
[python]
style = "bold yellow"
symbol = "ğŸ "
detect_extensions = ["py", "ipynb"]

[c]
symbol = "ğŸ‡¨ "
style = "bold blue"

[golang]
symbol = "ğŸ¹ "
style = "bold cyan"

[rust]
symbol = "ğŸ¦€ "
style = "bold red"

[docker_context]
symbol = "ğŸ³ "
style = "blue dimmed"

# --- SYSTEM STATS ---
[memory_usage]
disabled = false
threshold = 75
symbol = "ğŸ§  "
style = "bold red"

# --- RIGHT SIDE INFO ---
[time]
disabled = false
style = "bold text" 
format = "[$time]($style)"
time_format = "%T" 

[cmd_duration]
min_time = 2000
style = "bold yellow"
format = "â± [$duration]($style) "

# --- PROMPT CHARACTER ---
[character]
success_symbol = "[âœ](bold green)"
error_symbol = "[âœ](bold red)"
vimcmd_symbol = "[â®](bold green)"

# --- CATPPUCCIN PALETTE ---
[palettes.catppuccin_mocha]
rosewater = "#f5e0dc"
flamingo = "#f2cdcd"
pink = "#f5c2e7"
mauve = "#cba6f7"
red = "#f38ba8"
maroon = "#eba0ac"
peach = "#fab387"
yellow = "#f9e2af"
green = "#a6e3a1"
teal = "#94e2d5"
sky = "#89dceb"
sapphire = "#74c7ec"
blue = "#89b4fa"
lavender = "#b4befe"
text = "#cdd6f4"
subtext1 = "#bac2de"
subtext0 = "#a6adc8"
overlay2 = "#9399b2"
overlay1 = "#7f849c"
overlay0 = "#6c7086"
surface2 = "#585b70"
surface1 = "#45475a"
surface0 = "#313244"
base = "#1e1e2e"
mantle = "#181825"
crust = "#11111b"

palette = "catppuccin_mocha"
